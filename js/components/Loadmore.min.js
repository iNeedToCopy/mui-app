(function(t,e,n){t.__FORGE_ES6_VUE_COMPONENTS__||(t.__FORGE_ES6_VUE_COMPONENTS__={}),function(){function t(){var t,e,n;return document.currentScript?t=document.currentScript.src:(n=document.getElementsByTagName("script"),t=n[n.length-1].src),e=t.lastIndexOf("/"),t.substring(0,e)}var e=document.createElement("link");e.rel="stylesheet",e.href=t()+"/Loadmore.min.css",document.head.appendChild(e)}();var o=e.extend({props:{object:{required:!0},id:{default:"__loadmore_wrapper__"}},data:function(){return{url:"",set_height:!1,loading:!1}},updated:function(){},methods:{newrequest:function(){arguments[0]&&(this.object=arguments[0]),this.url="http://"+app.get_item("domain")+this.object,0==this.set_height&&(this.set_height=!0,setTimeout(this.reset_height,500)),this.on_pullup()},reset_height:function(){var t=this,e=document.getElementById(t.id);if(null!=e){for(var n=e.offsetTop,o=e.offsetParent;null!=o;)n+=o.offsetTop,o=o.offsetParent;e.style.height=window.innerHeight-n+"px"}},on_scroll:function(){var t=document.getElementById(this.id);if(t){var e=t.offsetHeight,n=t.scrollHeight,o=t.scrollTop;o+e>=n&&this.on_pullup()}},on_pullup:function(){if("no"!=this.url&&!this.loading){var t=this;t.loading=!0,app.http_get(t.url,function(e){if(t.loading=!1,200==e.code){var n=e.data;t.$emit("append",n),t.$emit("finish","append"),t.url=n.next_page_url}else t.url="no"},function(e,n,o){t.loading=!1,t.$emit("finish","加载出错")})}},get_top:function(t){}},created:function(){},mounted:function(){}});o.options.template='    <div :id="id" class="wrapper" @scroll="on_scroll">        <slot></slot>        <div class="loading" v-show="loading">加载中...</div>        <div id="__pullup_bottom__">&nbsp;</div>    </div>',t.Loadmore=o,t.__FORGE_ES6_VUE_COMPONENTS__["D:/work/zhonglai/dev/frontend/components/src/Loadmore.vue"]=o,e.component("vue-loadmore",o)})(window,Vue);